{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useEffect, useState } from \"react\";\nvar useNewsData = function useNewsData(category, searchTerm) {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    newsData = _useState2[0],\n    setNewsData = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1];\n  useEffect(function () {\n    function fetchNewData() {\n      return _fetchNewData.apply(this, arguments);\n    }\n    function _fetchNewData() {\n      _fetchNewData = _asyncToGenerator(function* () {\n        try {\n          setLoading(true);\n          var apiKey = process.env.REACT_APP_GNEWS_API_KEY;\n          var apiUrl = `https://gnews.io/api/v4/top-headlines?lang=en&token=${apiKey}`;\n          var categoryParam = category ? `&topic=${category}` : \"\";\n          var searchParam = searchTerm ? `&q=${searchTerm}` : \"\";\n          var url = apiUrl + categoryParam + searchParam;\n          var response = yield fetch(url);\n          var data = yield response.json();\n          setNewsData(data.articles);\n          setLoading(false);\n        } catch (error) {\n          setError(error);\n          setLoading(false);\n        }\n      });\n      return _fetchNewData.apply(this, arguments);\n    }\n    fetchNewData();\n  }, [category, searchTerm]);\n  return {\n    newsData: newsData,\n    loading: loading,\n    error: error\n  };\n};\nexport default useNewsData;","map":{"version":3,"names":["useEffect","useState","useNewsData","category","searchTerm","_useState","_useState2","_slicedToArray","newsData","setNewsData","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","fetchNewData","_fetchNewData","apply","arguments","_asyncToGenerator","apiKey","process","env","REACT_APP_GNEWS_API_KEY","apiUrl","categoryParam","searchParam","url","response","fetch","data","json","articles"],"sources":["/Users/pacharadasano/Desktop/news-app/src/hooks/useNewsData.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nconst useNewsData = (category, searchTerm) => {\n    const [newsData, setNewsData] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        async function fetchNewData(){\n            try {\n                setLoading(true);\n\n                const apiKey = process.env.REACT_APP_GNEWS_API_KEY;\n                const apiUrl = `https://gnews.io/api/v4/top-headlines?lang=en&token=${apiKey}`;\n                const categoryParam = category ? `&topic=${category}` : \"\";\n                const searchParam = searchTerm ? `&q=${searchTerm}` : \"\";\n                const url = apiUrl + categoryParam + searchParam;\n                const response = await fetch(url);\n                const data = await response.json();\n\n                setNewsData(data.articles);\n                setLoading(false);\n            } catch (error) {\n                setError(error);\n                setLoading(false);\n            }\n        }\n\n        fetchNewData();\n\n    }, [category, searchTerm]);\n\n    return { newsData, loading, error };\n};\n\nexport default useNewsData;"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAIC,QAAQ,EAAEC,UAAU,EAAK;EAC1C,IAAAC,SAAA,GAAgCJ,QAAQ,CAAC,EAAE,CAAC;IAAAK,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAArCG,QAAQ,GAAAF,UAAA;IAAEG,WAAW,GAAAH,UAAA;EAC5B,IAAAI,UAAA,GAA8BT,QAAQ,CAAC,IAAI,CAAC;IAAAU,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAArCE,OAAO,GAAAD,UAAA;IAAEE,UAAU,GAAAF,UAAA;EAC1B,IAAAG,UAAA,GAA0Bb,QAAQ,CAAC,IAAI,CAAC;IAAAc,UAAA,GAAAR,cAAA,CAAAO,UAAA;IAAjCE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EAEtBf,SAAS,CAAC,YAAM;IAAA,SACGkB,YAAYA,CAAA;MAAA,OAAAC,aAAA,CAAAC,KAAA,OAAAC,SAAA;IAAA;IAAA,SAAAF,cAAA;MAAAA,aAAA,GAAAG,iBAAA,CAA3B,aAA6B;QACzB,IAAI;UACAT,UAAU,CAAC,IAAI,CAAC;UAEhB,IAAMU,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,uBAAuB;UAClD,IAAMC,MAAM,GAAI,uDAAsDJ,MAAO,EAAC;UAC9E,IAAMK,aAAa,GAAGzB,QAAQ,GAAI,UAASA,QAAS,EAAC,GAAG,EAAE;UAC1D,IAAM0B,WAAW,GAAGzB,UAAU,GAAI,MAAKA,UAAW,EAAC,GAAG,EAAE;UACxD,IAAM0B,GAAG,GAAGH,MAAM,GAAGC,aAAa,GAAGC,WAAW;UAChD,IAAME,QAAQ,SAASC,KAAK,CAACF,GAAG,CAAC;UACjC,IAAMG,IAAI,SAASF,QAAQ,CAACG,IAAI,CAAC,CAAC;UAElCzB,WAAW,CAACwB,IAAI,CAACE,QAAQ,CAAC;UAC1BtB,UAAU,CAAC,KAAK,CAAC;QACrB,CAAC,CAAC,OAAOG,KAAK,EAAE;UACZC,QAAQ,CAACD,KAAK,CAAC;UACfH,UAAU,CAAC,KAAK,CAAC;QACrB;MACJ,CAAC;MAAA,OAAAM,aAAA,CAAAC,KAAA,OAAAC,SAAA;IAAA;IAEDH,YAAY,CAAC,CAAC;EAElB,CAAC,EAAE,CAACf,QAAQ,EAAEC,UAAU,CAAC,CAAC;EAE1B,OAAO;IAAEI,QAAQ,EAARA,QAAQ;IAAEI,OAAO,EAAPA,OAAO;IAAEI,KAAK,EAALA;EAAM,CAAC;AACvC,CAAC;AAED,eAAed,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}